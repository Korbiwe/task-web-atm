# Web ATM

Данный проект является тестовым заданием для DemidovDevelopment. 
 
## Задача: 

К нам обратился один известный банк с просьбой написать софт для своих банкоматов. Поскольку на дворе 2019 год, разумеется им нужен микросервис. Итак, сервис должен реализовывать HTTP API и поддерживать 2 операции:

1) **Внесение наличных** - принять в банкомат несколько монет/купюр.
Входные параметры:

    - `currency` (_string_): Код валюты
    - `value` (_int_): Номинал купюры
    - `quantity` (_int_): Количество купюр

    Пример запроса:
    ```
    POST /deposit

    {
        "currency": "RUB",
        "value": 100,
        "quantity": 10
    }
    ```
    Успешный ответ:
    ```
    {
        "success": true
    }
    ```
2) **Получение наличных** - выдать из банкомата определенную сумму денег в определенной валюте.
В ответе должен возвращаться набор купюр, которыми банкомат выдаст нужную сумму, т.е. их номиналы и количество.
Входные параметры:

    - `currency` (_string_): Код валюты
    - `amount` (_int_): Сумма

    Пример запроса:
    ```
    POST /withdraw

    {
        "currency": "RUB",
        "amount": 350
    }
    ```
    Успешный ответ:
    ```
    {
        "success": true,
        "result": [
            {
                "value": 100,
                "quantity": 3
            },
            {
                "value": 50,
                "quantity": 1
            }
        ]
    }
    ```

### Технические требования
 - Python 3
 - Любые фреймворки и библиотеки на выбор
 - Формат данных - json
 - Поддерживаемые валюты - RUB, USD, EUR
 - Банкомат обычный, сам деньги не печатает, может выдавать только то, что в него положили. Если выдать требуемую сумму нет возможности - в ответ должна возвращаться ошибка
 - Формат ошибок - на усмотрение разработчика
 
### Использованные технологии:
 - Python 3.7
 - Flask
 - SQLAlchemy
 - PostgreSQL
 - Nginx (для статики и проксирования)
 
### Запуск: 

  - Нужны: Docker и docker-compose с поддержкой compose-файлов версии 3.
  - Команда для запуска: `docker-compose up --build -d`
  - При необходимости, можно посмотреть логи при помощи команды `docker-compose logs -f`
  
### Валюты:

Взяты самые распостраненные банкноты RUR (50, 100, 200, 500, 1000, 2000, 5000), USD (1, 2, 5, 10, 50, 100) и EUR (5, 10, 50, 100, 200, 500). Монеты не были учтены. Доступность определенных номиналов задана хардкодом в файле ```app/atm/currencies.py```.

